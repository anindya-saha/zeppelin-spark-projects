{"paragraphs":[{"config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1485409875527_1746814871","id":"20170125-215115_471159485","dateCreated":"2017-01-25T21:51:15-0800","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:168","text":"import org.apache.spark._\r\nimport org.apache.spark.rdd.RDD\r\n\r\nimport org.apache.spark.sql.SQLContext\r\n\r\nimport org.apache.spark.sql._\r\nimport org.apache.spark.sql.functions._\r\nimport org.apache.spark.sql.types._","dateUpdated":"2017-01-25T23:11:02-0800","dateFinished":"2017-01-25T23:11:04-0800","dateStarted":"2017-01-25T23:11:02-0800","result":{"code":"SUCCESS","type":"TEXT","msg":"\nimport org.apache.spark._\n\nimport org.apache.spark.rdd.RDD\n\nimport org.apache.spark.sql.SQLContext\n\nimport org.apache.spark.sql._\n\nimport org.apache.spark.sql.functions._\n\nimport org.apache.spark.sql.types._\n"},"focus":true},{"config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1485409923072_-333309538","id":"20170125-215203_516957210","dateCreated":"2017-01-25T21:52:03-0800","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:1275","dateUpdated":"2017-01-25T23:11:02-0800","dateFinished":"2017-01-25T23:11:05-0800","dateStarted":"2017-01-25T23:11:03-0800","result":{"code":"SUCCESS","type":"TEXT","msg":"\ndefined class Obs\n\nparseObs: (line: Array[Double])Obs\n"},"text":"/*\r\n * https://archive.ics.uci.edu/ml/datasets/Breast+Cancer+Wisconsin+(Original)\r\n * Array(1000025,5,1,1,1,2,1,3,1,1,2)\r\n   0. Sample code number            id number \r\n   1. Clump Thickness               1 - 10\r\n   2. Uniformity of Cell Size       1 - 10\r\n   3. Uniformity of Cell Shape      1 - 10\r\n   4. Marginal Adhesion             1 - 10\r\n   5. Single Epithelial Cell Size   1 - 10\r\n   6. Bare Nuclei                   1 - 10\r\n   7. Bland Chromatin               1 - 10\r\n   8. Normal Nucleoli               1 - 10\r\n   9. Mitoses                       1 - 10\r\n  10. Class:                        (2 for benign, 4 for malignant)\r\n */\r\n case class Obs(clazz: Double, thickness: Double, size: Double, shape: Double, madh: Double, epsize: Double, bnuc: Double, bchrom: Double, nNuc: Double, mit: Double)\r\n def parseObs(line: Array[Double]): Obs = {\r\n    Obs(\r\n      if (line(9) == 4.0) 1 else 0, line(0), line(1), line(2), line(3), line(4), line(5), line(6), line(7), line(8)\r\n    )\r\n  }"},{"config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1485410932175_-1163569781","id":"20170125-220852_756336016","dateCreated":"2017-01-25T22:08:52-0800","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:1805","text":"def parseRDD(rdd: RDD[String]): RDD[Array[Double]] = {\r\n    rdd.map(line => line.split(\",\")).filter(fields => fields(6) != \"?\").map(fields => fields.drop(1)).map(fields => fields.map(field => field.toDouble))\r\n}","dateUpdated":"2017-01-25T23:11:02-0800","dateFinished":"2017-01-25T23:11:06-0800","dateStarted":"2017-01-25T23:11:05-0800","result":{"code":"SUCCESS","type":"TEXT","msg":"\nparseRDD: (rdd: org.apache.spark.rdd.RDD[String])org.apache.spark.rdd.RDD[Array[Double]]\n"}},{"config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1485409941163_1396167417","id":"20170125-215221_1050710328","dateCreated":"2017-01-25T21:52:21-0800","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:1358","dateUpdated":"2017-01-25T23:11:02-0800","dateFinished":"2017-01-25T23:11:08-0800","dateStarted":"2017-01-25T23:11:05-0800","result":{"code":"SUCCESS","type":"TEXT","msg":"\nobsText: org.apache.spark.rdd.RDD[String] = /home/anindya/zeppelin-spark-projects/spark-ml-lr-wisconsin-breastcancer/data/wbcd.csv MapPartitionsRDD[27185] at textFile at <console>:185\n\nobsRDD: org.apache.spark.rdd.RDD[Obs] = MapPartitionsRDD[27190] at map at <console>:193\n\nobsDF: org.apache.spark.sql.DataFrame = [clazz: double, thickness: double ... 8 more fields]\n"},"text":"val obsText: RDD[String] = sc.textFile(\"/home/anindya/zeppelin-spark-projects/spark-ml-lr-wisconsin-breastcancer/data/wbcd.csv\")\nval obsRDD: RDD[Obs] = parseRDD(obsText).map(parseObs)\nval obsDF: DataFrame = obsRDD.toDF().cache()"},{"config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[{"name":"value","index":0,"aggr":"sum"}],"values":[],"groups":[],"scatter":{"xAxis":{"name":"value","index":0,"aggr":"sum"}}},"enabled":true,"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1485410929071_-1545240690","id":"20170125-220849_497949047","dateCreated":"2017-01-25T22:08:49-0800","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:1735","text":"obsDF.show(10)","dateUpdated":"2017-01-25T23:11:03-0800","dateFinished":"2017-01-25T23:11:08-0800","dateStarted":"2017-01-25T23:11:06-0800","result":{"code":"SUCCESS","type":"TEXT","msg":"+-----+---------+----+-----+----+------+----+------+----+---+\n|clazz|thickness|size|shape|madh|epsize|bnuc|bchrom|nNuc|mit|\n+-----+---------+----+-----+----+------+----+------+----+---+\n|  0.0|      5.0| 1.0|  1.0| 1.0|   2.0| 1.0|   3.0| 1.0|1.0|\n|  0.0|      5.0| 4.0|  4.0| 5.0|   7.0|10.0|   3.0| 2.0|1.0|\n|  0.0|      3.0| 1.0|  1.0| 1.0|   2.0| 2.0|   3.0| 1.0|1.0|\n|  0.0|      6.0| 8.0|  8.0| 1.0|   3.0| 4.0|   3.0| 7.0|1.0|\n|  0.0|      4.0| 1.0|  1.0| 3.0|   2.0| 1.0|   3.0| 1.0|1.0|\n|  1.0|      8.0|10.0| 10.0| 8.0|   7.0|10.0|   9.0| 7.0|1.0|\n|  0.0|      1.0| 1.0|  1.0| 1.0|   2.0|10.0|   3.0| 1.0|1.0|\n|  0.0|      2.0| 1.0|  2.0| 1.0|   2.0| 1.0|   3.0| 1.0|1.0|\n|  0.0|      2.0| 1.0|  1.0| 1.0|   2.0| 1.0|   1.0| 1.0|5.0|\n|  0.0|      4.0| 2.0|  1.0| 1.0|   2.0| 1.0|   2.0| 1.0|1.0|\n+-----+---------+----+-----+----+------+----+------+----+---+\nonly showing top 10 rows\n\n"}},{"config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1485411925192_792363932","id":"20170125-222525_632690888","dateCreated":"2017-01-25T22:25:25-0800","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:2112","text":"obsDF.printSchema","dateUpdated":"2017-01-25T23:11:03-0800","dateFinished":"2017-01-25T23:11:09-0800","dateStarted":"2017-01-25T23:11:08-0800","result":{"code":"SUCCESS","type":"TEXT","msg":"root\n |-- clazz: double (nullable = false)\n |-- thickness: double (nullable = false)\n |-- size: double (nullable = false)\n |-- shape: double (nullable = false)\n |-- madh: double (nullable = false)\n |-- epsize: double (nullable = false)\n |-- bnuc: double (nullable = false)\n |-- bchrom: double (nullable = false)\n |-- nNuc: double (nullable = false)\n |-- mit: double (nullable = false)\n\n"}},{"config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1485410431932_1759659893","id":"20170125-220031_434187857","dateCreated":"2017-01-25T22:00:31-0800","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:1449","dateUpdated":"2017-01-25T23:11:42-0800","dateFinished":"2017-01-25T23:11:11-0800","dateStarted":"2017-01-25T23:11:09-0800","result":{"code":"SUCCESS","type":"TEXT","msg":"\nfeatureCols: Array[String] = Array(thickness, size, shape, madh, epsize, bnuc, bchrom, nNuc, mit)\n\nassembler: org.apache.spark.ml.feature.VectorAssembler = vecAssembler_cfc66ca548c0\n\nassembledDF: org.apache.spark.sql.DataFrame = [clazz: double, thickness: double ... 9 more fields]\n+-----+---------+----+-----+----+------+----+------+----+---+--------------------+\n|clazz|thickness|size|shape|madh|epsize|bnuc|bchrom|nNuc|mit|            features|\n+-----+---------+----+-----+----+------+----+------+----+---+--------------------+\n|  0.0|      3.0| 1.0|  1.0| 1.0|   2.0| 3.0|   3.0| 1.0|1.0|[3.0,1.0,1.0,1.0,...|\n|  1.0|      7.0| 3.0|  4.0| 4.0|   3.0| 3.0|   3.0| 2.0|7.0|[7.0,3.0,4.0,4.0,...|\n|  0.0|      3.0| 1.0|  1.0| 1.0|   3.0| 1.0|   2.0| 1.0|1.0|[3.0,1.0,1.0,1.0,...|\n|  0.0|      1.0| 1.0|  1.0| 1.0|   1.0| 1.0|   2.0| 1.0|1.0|[1.0,1.0,1.0,1.0,...|\n|  0.0|      1.0| 1.0|  3.0| 1.0|   2.0| 1.0|   1.0| 1.0|1.0|[1.0,1.0,3.0,1.0,...|\n|  0.0|      5.0| 1.0|  1.0| 1.0|   2.0| 1.0|   2.0| 1.0|1.0|[5.0,1.0,1.0,1.0,...|\n+-----+---------+----+-----+----+------+----+------+----+---+--------------------+\n\n"},"text":"import org.apache.spark.ml.feature.VectorAssembler\nval featureCols: Array[String] = Array(\"thickness\", \"size\", \"shape\", \"madh\", \"epsize\", \"bnuc\", \"bchrom\", \"nNuc\", \"mit\")\nval assembler: VectorAssembler = new VectorAssembler().setInputCols(featureCols).setOutputCol(\"features\")\nval assembledDF: DataFrame = assembler.transform(obsDF)\nassembledDF.sample(withReplacement=false,fraction=0.01).show()"},{"config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1485410679956_-1517121728","id":"20170125-220439_1163022852","dateCreated":"2017-01-25T22:04:39-0800","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:1638","dateUpdated":"2017-01-25T23:11:03-0800","dateFinished":"2017-01-25T23:11:13-0800","dateStarted":"2017-01-25T23:11:10-0800","result":{"code":"SUCCESS","type":"TEXT","msg":"\nimport org.apache.spark.ml.feature.StringIndexer\n\nlabelIndexer: org.apache.spark.ml.feature.StringIndexer = strIdx_ec6cf985c6ee\n\nlabelIndexedDF: org.apache.spark.sql.DataFrame = [clazz: double, thickness: double ... 10 more fields]\n+-----+---------+----+-----+----+------+----+------+----+---+--------------------+-----+\n|clazz|thickness|size|shape|madh|epsize|bnuc|bchrom|nNuc|mit|            features|label|\n+-----+---------+----+-----+----+------+----+------+----+---+--------------------+-----+\n|  0.0|      5.0| 1.0|  1.0| 1.0|   2.0| 1.0|   3.0| 1.0|1.0|[5.0,1.0,1.0,1.0,...|  0.0|\n|  0.0|      5.0| 4.0|  4.0| 5.0|   7.0|10.0|   3.0| 2.0|1.0|[5.0,4.0,4.0,5.0,...|  0.0|\n|  0.0|      3.0| 1.0|  1.0| 1.0|   2.0| 2.0|   3.0| 1.0|1.0|[3.0,1.0,1.0,1.0,...|  0.0|\n|  0.0|      6.0| 8.0|  8.0| 1.0|   3.0| 4.0|   3.0| 7.0|1.0|[6.0,8.0,8.0,1.0,...|  0.0|\n|  0.0|      4.0| 1.0|  1.0| 3.0|   2.0| 1.0|   3.0| 1.0|1.0|[4.0,1.0,1.0,3.0,...|  0.0|\n|  1.0|      8.0|10.0| 10.0| 8.0|   7.0|10.0|   9.0| 7.0|1.0|[8.0,10.0,10.0,8....|  1.0|\n|  0.0|      1.0| 1.0|  1.0| 1.0|   2.0|10.0|   3.0| 1.0|1.0|[1.0,1.0,1.0,1.0,...|  0.0|\n|  0.0|      2.0| 1.0|  2.0| 1.0|   2.0| 1.0|   3.0| 1.0|1.0|[2.0,1.0,2.0,1.0,...|  0.0|\n|  0.0|      2.0| 1.0|  1.0| 1.0|   2.0| 1.0|   1.0| 1.0|5.0|[2.0,1.0,1.0,1.0,...|  0.0|\n|  0.0|      4.0| 2.0|  1.0| 1.0|   2.0| 1.0|   2.0| 1.0|1.0|[4.0,2.0,1.0,1.0,...|  0.0|\n|  0.0|      1.0| 1.0|  1.0| 1.0|   1.0| 1.0|   3.0| 1.0|1.0|[1.0,1.0,1.0,1.0,...|  0.0|\n|  0.0|      2.0| 1.0|  1.0| 1.0|   2.0| 1.0|   2.0| 1.0|1.0|[2.0,1.0,1.0,1.0,...|  0.0|\n|  1.0|      5.0| 3.0|  3.0| 3.0|   2.0| 3.0|   4.0| 4.0|1.0|[5.0,3.0,3.0,3.0,...|  1.0|\n|  0.0|      1.0| 1.0|  1.0| 1.0|   2.0| 3.0|   3.0| 1.0|1.0|[1.0,1.0,1.0,1.0,...|  0.0|\n|  1.0|      8.0| 7.0|  5.0|10.0|   7.0| 9.0|   5.0| 5.0|4.0|[8.0,7.0,5.0,10.0...|  1.0|\n|  1.0|      7.0| 4.0|  6.0| 4.0|   6.0| 1.0|   4.0| 3.0|1.0|[7.0,4.0,6.0,4.0,...|  1.0|\n|  0.0|      4.0| 1.0|  1.0| 1.0|   2.0| 1.0|   2.0| 1.0|1.0|[4.0,1.0,1.0,1.0,...|  0.0|\n|  0.0|      4.0| 1.0|  1.0| 1.0|   2.0| 1.0|   3.0| 1.0|1.0|[4.0,1.0,1.0,1.0,...|  0.0|\n|  1.0|     10.0| 7.0|  7.0| 6.0|   4.0|10.0|   4.0| 1.0|2.0|[10.0,7.0,7.0,6.0...|  1.0|\n|  0.0|      6.0| 1.0|  1.0| 1.0|   2.0| 1.0|   3.0| 1.0|1.0|[6.0,1.0,1.0,1.0,...|  0.0|\n+-----+---------+----+-----+----+------+----+------+----+---+--------------------+-----+\nonly showing top 20 rows\n\n"},"text":"import org.apache.spark.ml.feature.StringIndexer\nval labelIndexer: StringIndexer = new StringIndexer().setInputCol(\"clazz\").setOutputCol(\"label\")\nval labelIndexedDF: DataFrame = labelIndexer.fit(assembledDF).transform(assembledDF)\nlabelIndexedDF.show()"},{"config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1485412547802_810302635","id":"20170125-223547_1096091577","dateCreated":"2017-01-25T22:35:47-0800","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:2459","dateUpdated":"2017-01-25T23:11:03-0800","dateFinished":"2017-01-25T23:11:14-0800","dateStarted":"2017-01-25T23:11:12-0800","result":{"code":"SUCCESS","type":"TEXT","msg":"\nsplitSeed: Int = 5043\n\n\ntrainingData: org.apache.spark.sql.Dataset[org.apache.spark.sql.Row] = [clazz: double, thickness: double ... 10 more fields]\ntestData: org.apache.spark.sql.Dataset[org.apache.spark.sql.Row] = [clazz: double, thickness: double ... 10 more fields]\n"},"text":"val splitSeed: Int = 5043\nval Array(trainingData, testData) = labelIndexedDF.randomSplit(Array(0.7, 0.3), seed=splitSeed)"},{"config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1485412607069_2134531728","id":"20170125-223647_85301128","dateCreated":"2017-01-25T22:36:47-0800","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:2535","dateUpdated":"2017-01-25T23:11:03-0800","dateFinished":"2017-01-25T23:11:16-0800","dateStarted":"2017-01-25T23:11:14-0800","result":{"code":"SUCCESS","type":"TEXT","msg":"\nimport org.apache.spark.ml.classification.LogisticRegression\n\nimport org.apache.spark.ml.classification.LogisticRegressionModel\n\nlr: org.apache.spark.ml.classification.LogisticRegression = logreg_b8f10bea0d2c\n\nmodel: org.apache.spark.ml.classification.LogisticRegressionModel = logreg_b8f10bea0d2c\n"},"text":"import org.apache.spark.ml.classification.LogisticRegression\r\nimport org.apache.spark.ml.classification.LogisticRegressionModel\r\nval lr: LogisticRegression = new LogisticRegression().setMaxIter(10).setRegParam(0.3).setElasticNetParam(0.8)\r\nval model: LogisticRegressionModel = lr.fit(trainingData)"},{"config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1485412616951_8409306","id":"20170125-223656_873147347","dateCreated":"2017-01-25T22:36:56-0800","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:2611","dateUpdated":"2017-01-25T23:11:03-0800","dateFinished":"2017-01-25T23:11:17-0800","dateStarted":"2017-01-25T23:11:15-0800","result":{"code":"SUCCESS","type":"TEXT","msg":"\npredictions: org.apache.spark.sql.DataFrame = [clazz: double, thickness: double ... 13 more fields]\n+-----+-----+----------+\n|clazz|label|prediction|\n+-----+-----+----------+\n|  0.0|  0.0|       0.0|\n|  0.0|  0.0|       0.0|\n|  0.0|  0.0|       0.0|\n|  0.0|  0.0|       0.0|\n|  0.0|  0.0|       0.0|\n|  1.0|  1.0|       0.0|\n|  1.0|  1.0|       1.0|\n|  0.0|  0.0|       0.0|\n|  0.0|  0.0|       0.0|\n|  0.0|  0.0|       0.0|\n+-----+-----+----------+\nonly showing top 10 rows\n\n"},"text":"val predictions: DataFrame = model.transform(testData)\npredictions.sample(withReplacement=false,fraction=0.1).select(\"clazz\", \"label\", \"prediction\").show(10)"},{"config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1485412682399_-512632650","id":"20170125-223802_2064435037","dateCreated":"2017-01-25T22:38:02-0800","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:2700","dateUpdated":"2017-01-25T23:11:03-0800","dateFinished":"2017-01-25T23:11:18-0800","dateStarted":"2017-01-25T23:11:16-0800","result":{"code":"SUCCESS","type":"TEXT","msg":"\nimport org.apache.spark.ml.classification.LogisticRegressionTrainingSummary\n\ntrainingSummary: org.apache.spark.ml.classification.LogisticRegressionTrainingSummary = org.apache.spark.ml.classification.BinaryLogisticRegressionTrainingSummary@62c85d6f\n"},"text":"import org.apache.spark.ml.classification.LogisticRegressionTrainingSummary\nval trainingSummary: LogisticRegressionTrainingSummary = model.summary"},{"config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1485412813868_-1166366480","id":"20170125-224013_1291230413","dateCreated":"2017-01-25T22:40:13-0800","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:2796","dateUpdated":"2017-01-25T23:11:03-0800","dateFinished":"2017-01-25T23:11:18-0800","dateStarted":"2017-01-25T23:11:17-0800","result":{"code":"SUCCESS","type":"TEXT","msg":"0.6469335347082146\n0.64170447838628\n0.6279056511527211\n0.6222099171715268\n0.6107931957424084\n0.6043687436643167\n0.59926628655697\n0.5976641305656915\n0.5942531440167665\n0.5941414565026492\n0.594123619222847\n\nobjectiveHistory: Array[Double] = Array(0.6469335347082146, 0.64170447838628, 0.6279056511527211, 0.6222099171715268, 0.6107931957424084, 0.6043687436643167, 0.59926628655697, 0.5976641305656915, 0.5942531440167665, 0.5941414565026492, 0.594123619222847)\n"},"text":"val objectiveHistory: Array[Double] = trainingSummary.objectiveHistory\nobjectiveHistory.foreach(loss => println(loss))"},{"config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1485412853815_-452010366","id":"20170125-224053_1493568640","dateCreated":"2017-01-25T22:40:53-0800","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:2884","dateUpdated":"2017-01-25T23:11:03-0800","dateFinished":"2017-01-25T23:11:19-0800","dateStarted":"2017-01-25T23:11:18-0800","result":{"code":"SUCCESS","type":"TEXT","msg":"\nimport org.apache.spark.ml.classification.BinaryLogisticRegressionSummary\n\nbinarySummary: org.apache.spark.ml.classification.BinaryLogisticRegressionSummary = org.apache.spark.ml.classification.BinaryLogisticRegressionTrainingSummary@62c85d6f\n"},"text":"import org.apache.spark.ml.classification.BinaryLogisticRegressionSummary\nval binarySummary: BinaryLogisticRegressionSummary = trainingSummary.asInstanceOf[BinaryLogisticRegressionSummary]"},{"config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1485412906270_1503945773","id":"20170125-224146_1148232695","dateCreated":"2017-01-25T22:41:46-0800","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:2966","dateUpdated":"2017-01-25T23:11:03-0800","dateFinished":"2017-01-25T23:11:21-0800","dateStarted":"2017-01-25T23:11:19-0800","result":{"code":"SUCCESS","type":"TEXT","msg":"\nroc: org.apache.spark.sql.DataFrame = [FPR: double, TPR: double]\n+---+--------------------+\n|FPR|                 TPR|\n+---+--------------------+\n|0.0|                 0.0|\n|0.0|0.047337278106508875|\n|0.0| 0.05917159763313609|\n|0.0| 0.08284023668639054|\n|0.0|  0.1242603550295858|\n|0.0|  0.1301775147928994|\n|0.0| 0.13609467455621302|\n|0.0| 0.14201183431952663|\n|0.0| 0.14792899408284024|\n|0.0| 0.15384615384615385|\n|0.0| 0.15976331360946747|\n|0.0| 0.16568047337278108|\n|0.0| 0.17159763313609466|\n|0.0| 0.17751479289940827|\n|0.0|  0.1834319526627219|\n|0.0|  0.1893491124260355|\n|0.0|  0.1952662721893491|\n|0.0| 0.20118343195266272|\n|0.0| 0.21301775147928995|\n|0.0| 0.22485207100591717|\n+---+--------------------+\nonly showing top 20 rows\n\n0.9928618390156853\n"},"text":"// Obtain the receiver-operating characteristic as a dataframe and areaUnderROC.\r\nval roc: DataFrame = binarySummary.roc\r\nroc.show()\r\nprintln(binarySummary.areaUnderROC)"},{"config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1485412958241_-1489507939","id":"20170125-224238_727982383","dateCreated":"2017-01-25T22:42:38-0800","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:3048","dateUpdated":"2017-01-25T23:11:03-0800","dateFinished":"2017-01-25T23:11:22-0800","dateStarted":"2017-01-25T23:11:19-0800","result":{"code":"SUCCESS","type":"TEXT","msg":"\nfMeasure: org.apache.spark.sql.DataFrame = [threshold: double, F-Measure: double]\n\nmaxFMeasure: Double = 0.9623188405797102\n"},"text":"// Set the model threshold to maximize F-Measure\nval fMeasure: DataFrame = binarySummary.fMeasureByThreshold\nval maxFMeasure: Double = fMeasure.select(max(\"F-Measure\")).head().getDouble(0)"},{"config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1485413009346_619762152","id":"20170125-224329_1228240735","dateCreated":"2017-01-25T22:43:29-0800","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:3124","dateUpdated":"2017-01-25T23:11:03-0800","dateFinished":"2017-01-25T23:11:23-0800","dateStarted":"2017-01-25T23:11:21-0800","result":{"code":"SUCCESS","type":"TEXT","msg":"\nbestThreshold: Double = 0.31731196517393817\n\nres281: model.type = logreg_b8f10bea0d2c\n"},"text":"val bestThreshold: Double = fMeasure.where($\"F-Measure\" === maxFMeasure).select(\"threshold\").head().getDouble(0)\nmodel.setThreshold(bestThreshold)"},{"config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1485413124075_1647177988","id":"20170125-224524_1891054936","dateCreated":"2017-01-25T22:45:24-0800","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:3212","dateUpdated":"2017-01-25T23:11:03-0800","dateFinished":"2017-01-25T23:11:24-0800","dateStarted":"2017-01-25T23:11:22-0800","result":{"code":"SUCCESS","type":"TEXT","msg":"\nimport org.apache.spark.ml.evaluation.BinaryClassificationEvaluator\n\nevaluator: org.apache.spark.ml.evaluation.BinaryClassificationEvaluator = binEval_b24ec7cbfd04\n\naccuracy: Double = 0.9926910299003322\n"},"text":"import  org.apache.spark.ml.evaluation.BinaryClassificationEvaluator\nval evaluator: BinaryClassificationEvaluator = new BinaryClassificationEvaluator().setLabelCol(\"label\")\nval accuracy: Double = evaluator.evaluate(predictions)"},{"config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1485413200364_105397201","id":"20170125-224640_1815029173","dateCreated":"2017-01-25T22:46:40-0800","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:3302","dateUpdated":"2017-01-25T23:11:03-0800","dateFinished":"2017-01-25T23:11:25-0800","dateStarted":"2017-01-25T23:11:24-0800","result":{"code":"SUCCESS","type":"TEXT","msg":""},"text":"model.write.overwrite().save(\"/home/anindya/zeppelin-spark-projects/spark-ml-lr-wisconsin-breastcancer/model\")"},{"config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1485413327310_1871946322","id":"20170125-224847_1735096252","dateCreated":"2017-01-25T22:48:47-0800","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:3384","dateUpdated":"2017-01-25T23:11:03-0800","dateFinished":"2017-01-25T23:11:25-0800","dateStarted":"2017-01-25T23:11:25-0800","result":{"code":"SUCCESS","type":"TEXT","msg":""},"text":""}],"name":"spark-ml-lr-wisconsin-breastcancer","id":"2C91BYA4E","angularObjects":{"2C76GT7BV:shared_process":[],"2C6J6YN2B:shared_process":[],"2C8MHRCAD:shared_process":[],"2C95ZFSCG:shared_process":[],"2C7KHSV2T:shared_process":[],"2C9G3K9QC:shared_process":[],"2C6JDY2UR:shared_process":[],"2C8GDSWY8:shared_process":[],"2C9PKUT4H:shared_process":[],"2C8XKM8UM:shared_process":[],"2C6PQ36R1:shared_process":[],"2C73B4S87:shared_process":[],"2C87AW83D:shared_process":[],"2C9DDZ1V5:shared_process":[]},"config":{"looknfeel":"default"},"info":{}}